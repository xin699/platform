<!DOCTYPE html>
<html lang="cn-zh">

<head>
  @@include('include/layout/meta.html')
  <!-- build:css /css/all.css -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/fontello.css">
  <link rel="stylesheet" href="css/custom.css">
  <link rel="stylesheet" href="css/hover-min.css">
  <link rel="stylesheet" href="css/common.css">
  <!-- endbuild -->

  <title>首页</title>
</head>

<body class="nav-md">
  <div class="main_container">
    <!-- header -->
    <div class="top_nav clearfix">
      @@include('include/layout/header.html',{
      "index":{
      "title":"张志峰 老师"
      },
      "menu":[
      {"title":"简历中心","link":"#"},
      {"title":"我的企业任务","link":"#"}
      ]
      })
    </div>
    <!-- content -->
    <div class="main">
      @@include('include/layout/layout.html',{
      "index":{
      "title":"任务列表",
      "link":"myTask.html",
      "active":"false"
      },
      "nav":[
      {
      "title":"发布任务",
      "link":"#",
      "active":"active"
      },
      {
      "title":"任务审核",
      "link":"taskAudit.html",
      "active":false
      },
      {
      "title":"草稿箱",
      "link":"drafts.html",
      "active":false
      },
      {
      "title":"账号绑定",
      "link":"bindingAccount.html",
      "active":false
      }
      ],
      "template": "企业端个人中心/发布任务.html"
      })

    </div>
  </div>
  <script src="/js/require.js"></script>
  <script>
    @@include('../src/js/config.js')
    require(['jquery'], function (e) {
         var url;
        function getFileUrl(sourceId) {
          if (navigator.userAgent.indexOf("MSIE") >= 1) { // IE
            url = document.getElementById(sourceId).value;
          } else if (navigator.userAgent.indexOf("Firefox") > 0) { // Firefox
            url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0));
          } else if (navigator.userAgent.indexOf("Chrome") > 0) { // Chrome
            url = window.URL.createObjectURL(document.getElementById(sourceId).files.item(0));
          }
          return url;
        }
        $('.upload-image').click(function (e) {
          $('#image').click()
        })
        $('#image').change(function (e) {
          if (url != '' || url != null) {
            $('.noimgTips').hide(0)
            $('#photo').show(0)
          } else {
            $('#photo').hide(0)
            $('.noimgTips').show(0)
          }
          var f = e.target.files[0];
          var suffix = f.name.split('.')[1].toLowerCase();
          var fileSize = f.size;

          if (['jpg', 'png', 'gif', 'jpeg'].indexOf(suffix) === -1) {
            alert('当前不支持该类型！')
            return false
          }

          if (fileSize > 2097152) {
            alert('当前不支持2M以上文件！')
            return false
          }

          $('#photo').attr('src', getFileUrl('image'))

        })
      

        //实现全选反选
      $("#theadInp").on('click', function () {
        $("#tbody input:checkbox").prop("checked", $(this).prop('checked'));
      })
      $("#tbody input:checkbox").on('click', function () {
        //当选中的长度等于checkbox的长度的时候,就让控制全选反选的checkbox设置为选中,否则就为未选中
        if ($("#tbody input:checkbox").length === $("#tbody input:checked").length) {
          $("#theadInp").prop("checked", true);
        } else {
          $("#theadInp").prop("checked", false);
        }
      })
        //实现全选反选2
      $("#theadInp2").on('click', function () {
        $("#tbody2 input:checkbox").prop("checked", $(this).prop('checked'));
      })
      $("#tbody2 input:checkbox").on('click', function () {
        //当选中的长度等于checkbox的长度的时候,就让控制全选反选的checkbox设置为选中,否则就为未选中
        if ($("#tbody2 input:checkbox").length === $("#tbody2 input:checked").length) {
          $("#theadInp2").prop("checked", true);
        } else {
          $("#theadInp2").prop("checked", false);
        }
      })

      })
  </script>
</body>

</html>